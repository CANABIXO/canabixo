<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Obras – BIXO</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Loader giratório */
    .loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: hideLoader 0s ease 3s forwards;
    }

    .loader img {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      animation: spinZoom 3s linear forwards;
    }

    @keyframes spinZoom {
      0% { transform: scale(1) rotate(0deg); }
      100% { transform: scale(1.2) rotate(1440deg); }
    }

    @keyframes hideLoader {
      to {
        opacity: 0;
        visibility: hidden;
      }
    }

    /* Container masonry com CSS columns para efeito mosaico sem cortar imagens */
    .masonry {
      column-count: 4;
      column-gap: 15px;
      padding: 60px 20px;
      z-index: 1;
    }

    /* Responsivo */
    @media (max-width: 1200px) {
      .masonry {
        column-count: 3;
      }
    }
    @media (max-width: 768px) {
      .masonry {
        column-count: 2;
      }
    }
    @media (max-width: 480px) {
      .masonry {
        column-count: 1;
      }
    }

    /* Imagens do mosaico */
    .masonry img {
      width: 100%;
      margin-bottom: 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s ease;
      display: block;
    }

    .masonry img:hover {
      transform: scale(1.05);
      position: relative;
      z-index: 2;
    }

    /* Modal fundo */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 10000;
      overflow: hidden;
    }

    .modal.active {
      display: flex;
    }

    /* Conteúdo do modal */
    .modal-content {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
    }

    .modal-content img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 10px;
      box-shadow: 0 0 20px #000;
      transform-origin: center center;
      transition: transform 0.3s ease;
    }

    /* Botões de navegação */
    .modal-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: transparent;
      border: none;
      color: white;
      font-size: 50px;
      cursor: pointer;
      user-select: none;
      padding: 10px;
      transition: color 0.3s ease;
    }
    .modal-btn:hover {
      color: #0f0;
    }

    .modal-btn.left {
      left: -60px;
    }

    .modal-btn.right {
      right: -60px;
    }

    /* Botão fechar modal */
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      border: none;
      color: white;
      font-size: 40px;
      cursor: pointer;
      user-select: none;
      padding: 5px;
      transition: color 0.3s ease;
    }
    .modal-close:hover {
      color: #f00;
    }

    /* Botão voltar fixo */
    .voltar {
      position: fixed;
      bottom: 30px;
      width: 100%;
      text-align: center;
      z-index: 1000;
    }

    .voltar a {
      background: transparent !important;
      color: white !important;
      font-weight: bold;
      font-size: 20px;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 20px;
      transition: transform 0.3s ease;
    }

    .voltar a:hover {
      transform: scale(1.05);
      text-shadow: 0 0 5px white;
    }
  </style>
</head>
<body>

  <!-- Botão de retorno -->
  <div class="voltar">
    <a href="index.html">BIXO</a>
  </div>

  <!-- Loader -->
  <div class="loader">
    <img src="logo.png" alt="Carregando..." />
  </div>

  <!-- Mosaico masonry -->
  <div class="masonry" id="masonry">
    <img src="obras/obra1.jpg" alt="Obra 1" />
    <img src="obras/obra2.jpg" alt="Obra 2" />
    <img src="obras/obra3.jpg" alt="Obra 3" />
    <img src="obras/obra4.jpg" alt="Obra 4" />
    <img src="obras/obra5.jpg" alt="Obra 5" />
    <img src="obras/obra6.jpg" alt="Obra 6" />
    <!-- Coloque mais imagens aqui -->
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <button class="modal-close" id="modal-close" aria-label="Fechar modal">×</button>
    <button class="modal-btn left" id="prev-btn" aria-label="Imagem anterior">‹</button>
    <div class="modal-content">
      <img id="modal-img" src="" alt="Imagem ampliada" />
    </div>
    <button class="modal-btn right" id="next-btn" aria-label="Próxima imagem">›</button>
  </div>

  <script>
    const masonry = document.getElementById('masonry');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const modalClose = document.getElementById('modal-close');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');

    let currentIndex = 0;
    const images = Array.from(masonry.querySelectorAll('img'));

    function openModal(index) {
      currentIndex = index;
      modalImg.src = images[currentIndex].src;
      modalImg.alt = images[currentIndex].alt;
      modal.classList.add('active');
      document.body.style.overflow = 'hidden'; // Evita scroll do fundo
    }

    function closeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = ''; // Reativa scroll
    }

    function showPrev() {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      modalImg.src = images[currentIndex].src;
      modalImg.alt = images[currentIndex].alt;
    }

    function showNext() {
      currentIndex = (currentIndex + 1) % images.length;
      modalImg.src = images[currentIndex].src;
      modalImg.alt = images[currentIndex].alt;
    }

    // Clique em imagem do mosaico abre modal
    images.forEach((img, i) => {
      img.addEventListener('click', () => openModal(i));
    });

    // Botões navegação modal
    prevBtn.addEventListener('click', showPrev);
    nextBtn.addEventListener('click', showNext);
    modalClose.addEventListener('click', closeModal);

    // Fecha modal clicando fora da imagem
    modal.addEventListener('click', e => {
      if (e.target === modal) closeModal();
    });

    // Teclas do teclado para navegação e fechar
    document.addEventListener('keydown', e => {
      if (!modal.classList.contains('active')) return;
      if (e.key === 'ArrowLeft') showPrev();
      else if (e.key === 'ArrowRight') showNext();
      else if (e.key === 'Escape') closeModal();
    });

    // Loader sumir após 3s (igual CSS)
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.querySelector('.loader').style.display = 'none';
      }, 3000);
    });
  </script>

</body>
</html>
