<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Obras – BIXO</title>
  <style>
    body {
      margin: 0;
      background: black;
      font-family: Arial, sans-serif;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .loader {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: black;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: hideLoader 0s ease 3s forwards;
    }

    .loader img {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      animation: spinZoom 3s linear forwards;
    }

    @keyframes spinZoom {
      0% { transform: scale(1) rotate(0deg); }
      100% { transform: scale(1.2) rotate(1440deg); }
    }

    @keyframes hideLoader {
      to {
        opacity: 0;
        visibility: hidden;
      }
    }

    .main-container {
      max-width: 90vw;
      width: 640px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      /* espaço extra para o botão fixo ficar abaixo do conteúdo */
      padding-bottom: 80px;
      flex-shrink: 0;
      user-select: none;
    }

    .big-image {
      width: 100%;
      max-height: 480px;
      object-fit: contain;
      border-radius: 10px;
      cursor: zoom-in;
      transition: transform 0.3s ease;
    }
    .big-image:hover {
      transform: scale(1.05);
    }

    .info-box {
      width: 100%;
      text-align: center;
      font-size: 14px;
      padding: 10px 0;
    }
    .info-box b {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
    }

    .thumbnail-bar-container {
      position: relative;
      width: 100%;
      max-width: 640px;
      overflow: hidden;
    }

    .thumbnail-bar {
      display: flex;
      gap: 10px;
      overflow-x: scroll;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none; /* Firefox */
    }
    .thumbnail-bar::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }

    .thumbnail-bar img {
      height: 60px;
      flex-shrink: 0;
      cursor: pointer;
      border-radius: 4px;
      transition: transform 0.2s ease;
      border: none;
    }
    .thumbnail-bar img:hover {
      transform: scale(1.1);
    }
    .thumbnail-bar img.selected {
      transform: scale(1.1);
    }

    .scroll-buttons {
      width: 100%;
      max-width: 640px;
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
    }

    .scroll-btn {
      background: transparent;
      border: none;
      color: white;
      font-size: 40px;
      cursor: pointer;
      user-select: none;
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      padding: 0;
      transition: none;
    }
    .scroll-btn:hover {
      color: white;
    }

    .voltar {
      position: fixed;
      bottom: 30px;
      width: 100%;
      text-align: center;
      z-index: 1000;
      user-select: none;
    }

    .voltar a {
      all: unset;
      font-family: Arial, sans-serif;
      font-size: 20px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      padding: 10px 20px;
      text-decoration: none;
      background: transparent !important;
      border: none !important;
      display: inline-block;
      transition: transform 0.3s ease;
    }
    .voltar a:hover {
      transform: scale(1.05);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.95);
      justify-content: center;
      align-items: center;
      z-index: 2000;
      cursor: zoom-out;
    }
    .modal img {
      max-width: 90vw;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 10px;
      user-select: none;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <div class="loader">
    <img src="logo.png" alt="Carregando..." />
  </div>

  <div class="main-container" aria-label="Galeria de obras">

    <img id="bigImage" class="big-image" src="" alt="Imagem da obra" tabindex="0" />

    <div class="info-box" aria-live="polite" aria-atomic="true">
      <b id="imageTitle"></b>
      <span id="imageDesc"></span>
    </div>

    <div class="thumbnail-bar-container" aria-label="Miniaturas das obras">
      <div class="thumbnail-bar" id="thumbnailBar"></div>
    </div>

    <div class="scroll-buttons">
      <button id="btnLeft" class="scroll-btn" aria-label="Miniaturas anteriores">‹</button>
      <button id="btnRight" class="scroll-btn" aria-label="Miniaturas próximas">›</button>
    </div>

  </div>

  <div class="voltar">
    <a href="index.html">BIXO</a>
  </div>

  <div id="modal" class="modal" aria-hidden="true">
    <img id="modalImg" src="" alt="Imagem ampliada da obra" />
  </div>

  <script>
    const images = [
      "obra1.jpg","obra2.jpg","obra3.jpg","obra4.jpg","obra5.jpg","obra6.jpg",
      "obra7.jpg","obra8.jpg","obra9.jpg","obra10.jpg","obra11.jpg","obra12.jpg"
    ];

    const titles = [
      "Título da Obra 1","Título da Obra 2","Título da Obra 3","Título da Obra 4",
      "Título da Obra 5","Título da Obra 6","Título da Obra 7","Título da Obra 8",
      "Título da Obra 9","Título da Obra 10","Título da Obra 11","Título da Obra 12"
    ];

    const descriptions = [
      "Descrição da obra 1 aqui.","Descrição da obra 2 aqui.","Descrição da obra 3 aqui.",
      "Descrição da obra 4 aqui.","Descrição da obra 5 aqui.","Descrição da obra 6 aqui.",
      "Descrição da obra 7 aqui.","Descrição da obra 8 aqui.","Descrição da obra 9 aqui.",
      "Descrição da obra 10 aqui.","Descrição da obra 11 aqui.","Descrição da obra 12 aqui."
    ];

    const thumbnailBar = document.getElementById('thumbnailBar');
    const bigImage = document.getElementById('bigImage');
    const imageTitle = document.getElementById('imageTitle');
    const imageDesc = document.getElementById('imageDesc');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const btnLeft = document.getElementById('btnLeft');
    const btnRight = document.getElementById('btnRight');

    let currentIndex = 0;

    function createThumbnails() {
      images.forEach((src, i) => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = titles[i];
        img.tabIndex = 0;
        img.onclick = () => updateBigImage(i);
        img.onkeydown = e => { if(e.key === 'Enter' || e.key === ' ') { updateBigImage(i); e.preventDefault(); } };
        thumbnailBar.appendChild(img);
      });
    }

    function updateBigImage(index) {
      currentIndex = index;
      bigImage.src = images[index];
      bigImage.alt = titles[index];
      imageTitle.textContent = titles[index];
      imageDesc.textContent = descriptions[index];
      updateSelectedThumbnail();
    }

    function updateSelectedThumbnail() {
      const thumbs = thumbnailBar.querySelectorAll('img');
      thumbs.forEach((thumb, i) => {
        thumb.classList.toggle('selected', i === currentIndex);
      });
    }

    btnLeft.addEventListener('click', () => {
      thumbnailBar.scrollBy({left: -120, behavior: 'smooth'});
    });

    btnRight.addEventListener('click', () => {
      thumbnailBar.scrollBy({left: 120, behavior: 'smooth'});
    });

    // Rolagem automática lenta e suave (sem duplicação, retorna no início)
    function autoScroll() {
      if (thumbnailBar.scrollLeft + thumbnailBar.clientWidth >= thumbnailBar.scrollWidth) {
        thumbnailBar.scrollTo({left: 0});
      } else {
        thumbnailBar.scrollLeft += 0.3;
      }
      requestAnimationFrame(autoScroll);
    }

    bigImage.addEventListener('click', () => {
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden', 'false');
      modalImg.src = images[currentIndex];
      modalImg.alt = titles[currentIndex] + " ampliada";
    });

    modal.addEventListener('click', () => {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');
      modalImg.src = '';
      modalImg.alt = '';
    });

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && modal.style.display === 'flex') {
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        modalImg.src = '';
        modalImg.alt = '';
      }
      if (e.key === 'ArrowLeft') {
        let newIndex = (currentIndex - 1 + images.length) % images.length;
        updateBigImage(newIndex);
      }
      if (e.key === 'ArrowRight') {
        let newIndex = (currentIndex + 1) % images.length;
        updateBigImage(newIndex);
      }
    });

    window.addEventListener('load', () => {
      setTimeout(() => {
        document.querySelector('.loader').style.display = 'none';
      }, 3000);
    });

    createThumbnails();
    updateBigImage(0);
    autoScroll();

  </script>

</body>
</html>
